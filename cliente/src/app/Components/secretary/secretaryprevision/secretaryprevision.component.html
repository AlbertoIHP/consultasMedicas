<div style="text-align:  center;">
    <h3>Historial de Previsiones del Paciente {{pacienteActual.nombre1}} {{pacienteActual.apellido1}}</h3>
    <br>
</div>

<div class="ui one column grid">
    <div class="column">
        <table class="ui compact celled definition table">
            <thead>
                <tr>
                    <th>Fecha Actualizacion</th>
                    <th>Prevision</th>
                    <th>Estado</th>
                </tr>
            </thead>
            <tbody>
                        <tr *ngFor="let prevision of totalPrevisionActual">
                            <td>{{ prevision.fechaActualizacion }}</td>
                            <td>{{ prevision.Prevision_id }}</td>
                            <td *ngIf="prevision.activado === 1" class="labelEstado"><a class="ui teal tag label">Prevision Actual</a></td>
                            <td *ngIf="prevision.activado === 0" class="labelEstado"><a class="ui red tag label">Prevision Desactivada</a></td>
                        </tr>
            </tbody>
            <tfoot class="full-width">
                <tr>
                    <th colspan="3">
                        <div (click)="open('nuevoPaciente')" class="ui right floated small primary labeled icon button">
                            <i class="edit icon"></i> Actualizar Prevision
                        </div>
                    </th>
                </tr>
            </tfoot>
        </table>
    </div>
</div>



<ng-template let-context let-modal="modal" #modalTemplate>
        <div class="header">Actualizacion de Prevision</div>
        <div class="content">

    <div class="row">
        <div class="column">
                                 <sui-select style="width: 100%" class="selection"
                                                        [(ngModel)]="previsionSeleccionada"
                                                        [isSearchable]="true"
                                    placeholder="Seleccione la nueva Prevision">

                                        <sui-select-option
                                        *ngFor="let o of totalPrevision"
                                        [value]="o.nombre"
                                        (click)="seleccionPrevision(o)">
                                        </sui-select-option>

                                </sui-select>
        </div>
        <div class="column">
                <p>{{descripcionSeleccionada}}</p>
        </div>
    </div>


        </div>
        <div class="actions">
                <button class="ui red button" (click)="modal.deny('denied')">Cancelar</button>
                <button class="ui blue button" (click)="modal.approve('approved')" autofocus>Actualizar</button>
        </div>
</ng-template>




<sui-message *ngIf="mostrarMensaje" #mensaje >
        <div class="header">
                Este Paciente no registra previsiones, Porfavor consultelo a la brevedad
        </div>
</sui-message>

