<div class="ui one column grid">
  <div class="column">
    <table class="ui compact celled definition table">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Provincia</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
            <tr *ngFor="let comuna of totalComunas">
              <td>{{ comuna.nombre }}</td>
              <td>{{ comuna.Provincia_id }}</td>
              <td>
                <button (click)="open('editarComuna' , comuna)" class="ui primary inverted orange button btnTabla">Editar</button>

                <button (click)="eliminarComuna(comuna)" class="ui primary inverted red button btnTabla">Eliminar</button>
              </td>
            </tr>
      </tbody>
      <tfoot class="full-width">
        <tr>
          <th colspan="3">
            <div (click)="open('nuevaComuna')" class="ui right floated small primary labeled icon button">
              <i class="add icon"></i> Agregar Comuna
            </div>
          </th>
        </tr>
      </tfoot>
    </table>
  </div>
</div>



  <ng-template let-context let-modal="modal" #modalTemplate>

      <div *ngIf="context.data === 'nuevaComuna'" class="header">Formulario de Nueva Comuna</div>
      <div *ngIf="context.data === 'editarComuna'" class="header">Formulario de Edicion: Comuna {{editarComuna.nombre}}</div>


      <div class="content" >
       <div *ngIf="context.data === 'nuevaComuna'" class="ui one column grid">

              <div class="column">
                <div class="ui input focus inputModal">
                  <input [(ngModel)]="nuevaComuna.nombre" type="text" placeholder="Ingrese un nombre">
                </div>
              </div>

                <sui-select class="selection inputModal"
                            [isSearchable]="true"
                  placeholder="Region">

                    <sui-select-option
                    *ngFor="let provincia of totalProvincias"
                    [value]="provincia.nombre"
                    (click)="provinciaSeleccionada(provincia)">
                    </sui-select-option>

                </sui-select>

             </div>


        <div *ngIf="context.data === 'editarComuna'" class="ui one column grid">

              <div class="column">
                <div class="ui input focus inputModal">
                  <input [(ngModel)]="editarComuna.nombre" type="text" placeholder="Ingrese un nombre">
                </div>
              </div>

                <sui-select class="selection inputModal"
                            [isSearchable]="true"
                  placeholder="Region">

                    <sui-select-option
                    *ngFor="let provincia of totalProvincias"
                    [value]="provincia.nombre"
                    (click)="editarProvinciaSeleccionada(provincia)">
                    </sui-select-option>

                </sui-select>

        </div>



      </div>




      <div class="actions">
          <button class="ui red button" (click)="modal.deny('denied')">Cancelar</button>
          <button class="ui blue button"  (click)="modal.approve('approved')">Aceptar</button>

      </div>

  </ng-template>
